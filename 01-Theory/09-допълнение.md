# Забележки/Подобрения:

# Увод (който липсва)
- База данни (БД) е организирана колекция от свързани данни, която е предназначена за ефективно съхранение, търсене и управление в информационни системи
- Система за управление на база данни (СУБД) представлява софтуерен инструмент, който осигурява средства за дефиниране, съхранение, извличане и манипулиране на данни в базата (напр. MySQL, Oracle, PostgreSQL, MongoDB)
- Моделът на базата данни определя логическата структура на данните и начина, по който те се организират и достъпват. Съвременното деление включва две основни категории:
    - Релационен модел
        - Представя данните под формата на таблици (релации) с редове и колони, като достъпът и манипулацията се извършват чрез езика SQL.
        - Подходящ е за данни със стабилна и строго дефинирана структура, при която схемата рядко се променя.
    - Нерелационни (NoSQL) модели
        - Използват разнообразни структури като документи (напр. JSON), ключ-стойност, графи или колекции от обекти, вместо фиксирани таблици.
        - Предпочитани са при приложения с големи обеми от данни, динамични изисквания и необходимост от гъвкава схема, която може да се адаптира и променя лесно във времето.

# Релационният модел на данните (анотация 1)
Релационният модел на данните представя информацията под формата на релации (таблици), съставени от кортежи (редове) и атрибути (колони). Всеки ред описва конкретен обект или факт, а таблицата – клас от обекти с обща структура. Моделът е базиран на математическата теория на множествата и релациите.

# Схема на релация
Трябва да добавим, че се включват и домейните:

Схемата на релацията се определя от нейното име, множеството от атрибути и домейна, асоцииран с всеки атрибут

С пример: Movies(title:string, year:integer, length:integer, FilmType:string)

## Заявки към релационната БД
Пример 1 (DML) - окей

Пример 2: (DML)

Заявка:
```sql
SELECT
    books.title,
    COUNT(*) AS Authors
FROM
    books
JOIN
    book_authors ON books.isbn = book_authors.isbn
WHERE
    books.price > 100.00
GROUP BY
    books.title;
```
Oбясненение (не е задължително):
- FROM books JOIN book_authors ON books.isbn = book_authors.isbn
    - Заявката започва, като комбинира ("свързва" с JOIN) две таблици: books (която вероятно съдържа информация за книгите като заглавие, цена, ISBN) и book_authors (която е свързваща таблица и свързва книгите с техните автори).
- WHERE books.price > 100.00
    - заявката филтрира резултатите. Тя взима предвид само тези книги, чиято цена (price) е по-голяма от 100. Всички книги, които са по-евтини, се игнорират за следващите стъпки.
- GROUP BY books.title
    - лед като са филтрирани скъпите книги и са свързани с авторите им, тази команда групира всички получени редове по заглавие на книгата. Ако една книга има трима автори, след JOIN-а ще има три реда за нея. GROUP BY ги събира в една обща група.
- SELECT books.title, COUNT(*) AS Authors
    - books.title: Показва заглавието на книгата (по което е групирано).
    - COUNT(*) AS Authors: Преброява (COUNT(*)) колко реда има във всяка група (което съответства на броя на авторите за дадената книга) и преименува тази нова изходна колона на Authors.

Примери 3-5: INSERT_INTO, UPDATE, DELETE_FROM
```sql
-- Добавя един нов ред в таблицата 'my_table' със стойности за посочените колони.
INSERT INTO my_table (field1, field2, field3) 
VALUES ('test', 'N', null);

-- Редактира всички редове, в които колоната field2 е 'N', като задава нова стойност за колоната field1.
UPDATE my_table 
SET field1 = 'updated value' 
WHERE field2 = 'N';

-- Изтрива всички редове от таблицата 'my_table', които отговарят на условието колоната field2 да бъде 'N'.
DELETE FROM my_table 
WHERE field2 = 'N';
```

Пример DDL:
- CREATE TABLE
```sql
-- Създава нова таблица с име employees и дефинира нейните колони и техните типове данни.
CREATE TABLE employees (
    id INT PRIMARY KEY,
    first_name VARCHAR(50) NULL,
    last_name VARCHAR(75) NOT NULL,
    date_of_birth DATE NULL
);

```
- DROP_TABLE
```sql
-- Изтрива изцяло таблицата employees заедно с цялата информация в нея.
DROP TABLE employees;
```
- ALTER_TABLE
```sql
-- Променя структурата на таблицата employees, като добавя нова колона 'place_of_birth'.
ALTER TABLE employees ADD place_of_birth VARCHAR(50);

-- Променя структурата на таблицата employees, като премахва съществуващата колона 'place_of_birth'.
ALTER TABLE employees DROP COLUMN place_of_birth;
```

Пример DCL:
- 
```sql
-- Примери за GRANT (Даване на права)

-- Дава право на потребителя 'petar' да добавя (INSERT) и редактира (UPDATE) записи в таблицата employees.
GRANT INSERT, UPDATE ON employees TO 'petar';

-- Дава всички права (четене, писане, триене, промяна) върху таблицата employees на потребителя 'maria_admin'.
GRANT ALL PRIVILEGES ON employees TO 'maria_admin'

-- Примери за REVOKE (Отнемане на права)

-- Отнема правото за редактиране (UPDATE) от потребителя 'petar' за таблицата employees.
REVOKE UPDATE ON employees FROM 'petar';

-- Отнема всички права от потребителя 'maria_admin' за таблицата employees.
REVOKE ALL PRIVILEGES ON employees FROM 'maria_admin';
```

## Основни операции с РА -- трябва да се редактира

Чети в този ред нещата:
- основни - обединение, разлика, декартово произведение, проекция и селекция
- допълнителни - сечение, частно, съедениение, ествествено съединение

Важни пояснения:
- Union:
```sql
-- Първи сет: Всички заглавия и години от таблицата Movie
SELECT title, year
FROM Movie

UNION

-- Втори сет: Заглавията и годините на филмите, които имат актьори в StarsIn
-- (За да получим title и year, трябва да свържем StarsIn с Movie)
SELECT m.title, m.year
FROM StarsIn AS s
JOIN Movie AS m ON s.movieID = m.movieID; -- (Приемаме, че таблиците се свързват по ID на филма)
```

- Ествествено съединение:
    - Дефиниция: Специален случай на съединение, който има две основни характеристики:
        - Свързването става автоматично по всички колони, които имат еднакви имена в двете релации.
        - Общите колони се появяват само веднъж в резултатната релация.
    - SQL еквивалент: SELECT * FROM R NATURAL JOIN S

-  Тета-съединение (Theta Join, ⨝θ)
    - Дефиниция: Това е декартово произведение, последвано от селекция (филтриране) по определено условие θ. Условието θ може да бъде всякакво сравнение (=, <, >, ≠ и т.н.).
    - SQL еквивалент: SELECT * FROM R JOIN S ON R.колона_1 θ S.колона_2