# Задача 1:
```sql
SELECT studioName
FROM Movie
WHERE inColor = 'Y'
INTERSECT
SELECT studioName
FROM Movie
WHERE length IS NULL;
```

# Задача 2:
```sql
SELECT name, COUNT(title)
   FROM MovieStar
   LEFT JOIN StarsIn ON name = starName
   LEFT JOIN Movie ON movieTitle = title
                   AND movieYear = year
                   AND inColor = 'N'
   WHERE gender = 'F'
   GROUP BY name;
``` 
- FROM MovieStar ... WHERE gender = 'F': Заявката започва от правилната таблица – MovieStar, откъдето взима списък на всички хора и веднага го филтрира, за да останат само актрисите. Това гарантира, че никоя актриса няма да бъде пропусната.
- LEFT JOIN StarsIn ...: Първият LEFT JOIN свързва актрисите с техните участия във филми (StarsIn). Ако дадена актриса няма нито едно участие, тя остава в списъка, но колоните от StarsIn за нея ще бъдат NULL.
- LEFT JOIN Movie ... AND inColor = 'N': Това е ключовата част.
    - Вторият LEFT JOIN свързва участията с конкретните филми.
    - Условието AND inColor = 'N' е поставено директно в ON клаузата. Това е правилният подход. Заявката се опитва да намери филм, който отговаря на името И СЪЩЕВРЕМЕННО е черно-бял.
    - Ако филмът е цветен, условието inColor = 'N' не е изпълнено, връзката се проваля и колоните от Movie (включително title) за този ред стават NULL.
- GROUP BY name: Резултатите се групират по име на актриса.
- SELECT name, COUNT(title): COUNT(title) брои редовете във всяка група, за които колоната title (от таблица Movie) не е NULL. Тъй като title става NULL за всички цветни филми (заради стъпка 3), тази команда ефективно брои само черно-белите филми. Ако една актриса има само цветни филми или никакви филми, всички нейни title стойности ще са NULL и COUNT правилно ще върне 0.


## а) Грешна употреба на HAVING

Клаузата HAVING inColor = 'N' е синтактично и логически грешна. HAVING се използва за филтриране на групи след агрегация (напр. HAVING COUNT(*) > 5), а не за филтриране на редове по стойност на колона. Това е работа за WHERE клаузата.

## в) Грешен синтаксис и логика

Синтактична грешка: HAVING клаузата е поставена преди GROUP BY. Правилният ред е ... WHERE ... GROUP BY ... HAVING ....
Логическа грешка: Дори синтаксисът да беше правилен, отново имаме грешна употреба на HAVING, както в отговор а).

## г) Грешна отправна точка и грешен филтър

Грешна отправна точка: Заявката започва с FROM StarsIn, а не с MovieStar. Това означава, че всяка актриса, която няма записани участия в StarsIn, изобщо няма да бъде включена в резултата. Това нарушава основно изискване на задачата.
Грешен филтър: Условието WHERE inColor = 'N' филтрира резултатите след като са направени връзките. Това ще премахне напълно всяка актриса, която е играла само в цветни филми, вместо да я покаже с резултат 0. Както видяхме в решение б), филтърът за цвят трябва да е в ON клаузата на LEFT JOIN-а